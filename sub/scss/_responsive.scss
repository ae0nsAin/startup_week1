// ========================================
// 响应式样式文件 - 展示mixins和media queries
// ========================================

// 移动端样式（< 768px）
@include respond-to($mobile) {
    // 导航栏移动端样式
    .main-header {
        .navbar {
            .nav-menu {
                // 在移动端nav-menu已经定义在main.scss中，这里可以添加额外的移动端样式
                .nav-link {
                    padding: $spacing-sm;
                    border-radius: 6px;
                    margin-bottom: $spacing-xs;
                    
                    &:last-child {
                        margin-bottom: 0;
                    }
                }
            }
        }
    }
    
    // Hero区域移动端样式
    .hero {
        min-height: 80vh;
        padding-top: 60px;
        
        .hero-content {
            padding: $spacing-lg $spacing-sm;
            
            .hero-title {
                font-size: 2rem;
                line-height: 1.3;
            }
            
            .hero-subtitle {
                font-size: 1rem;
                line-height: 1.6;
            }
            
            .cta-button {
                padding: $spacing-sm $spacing-lg;
                font-size: 1rem;
            }
        }
    }
    
    // 章节标题移动端样式
    .section-title {
        font-size: 1.8rem;
        margin-bottom: $spacing-lg;
        
        &::after {
            width: 60px;
            height: 3px;
        }
    }
    
    // 关于部分移动端样式
    .about-section {
        padding: $spacing-xl 0;
        
        .about-grid {
            grid-template-columns: 1fr;
            gap: $spacing-md;
            
            .about-card {
                padding: $spacing-sm;
                
                .card-icon {
                    font-size: 2.5rem;
                }
                
                h3 {
                    font-size: 1.2rem;
                }
                
                p {
                    font-size: 0.9rem;
                }
            }
        }
    }
    
    // 冲泡指南移动端样式
    .brewing-section {
        padding: $spacing-xl 0;
        
        .brewing-methods {
            grid-template-columns: 1fr;
            gap: $spacing-md;
            
            .brewing-method {
                padding: $spacing-sm;
                
                h3 {
                    font-size: 1.1rem;
                }
                
                .method-details {
                    flex-direction: column;
                    align-items: flex-start;
                    gap: $spacing-xs;
                    
                    .difficulty, .time {
                        font-size: 0.8rem;
                    }
                }
                
                .steps {
                    li {
                        font-size: 0.9rem;
                        padding-left: $spacing-sm;
                    }
                }
            }
        }
    }
    
    // 咖啡豆区域移动端样式
    .beans-section {
        padding: $spacing-xl 0;
        
        .beans-showcase {
            grid-template-columns: 1fr;
            gap: $spacing-md;
            
            .bean-card {
                padding: $spacing-sm;
                
                .bean-header {
                    h3 {
                        font-size: 1.1rem;
                    }
                    
                    .origin {
                        font-size: 0.7rem;
                    }
                }
                
                .bean-description {
                    font-size: 0.9rem;
                }
                
                .taste-profile {
                    .flavor {
                        font-size: 0.7rem;
                        padding: 3px 8px;
                    }
                }
            }
        }
    }
    
    // 文化时间线移动端样式
    .culture-section {
        padding: $spacing-xl 0;
        
        .culture-timeline {
            &::before {
                left: 20px;
                transform: none;
            }
            
            .timeline-item {
                width: 100%;
                left: 0 !important;
                text-align: left !important;
                padding-left: 60px !important;
                padding-right: 0 !important;
                
                .timeline-content {
                    &::before {
                        left: -6px !important;
                        right: auto !important;
                    }
                }
                
                .timeline-date {
                    font-size: 0.9rem;
                    margin-bottom: $spacing-xs;
                }
                
                .timeline-content {
                    h3 {
                        font-size: 1.1rem;
                    }
                    
                    p {
                        font-size: 0.9rem;
                    }
                }
            }
        }
    }
    
    // 页脚移动端样式
    .main-footer {
        padding: $spacing-lg 0 $spacing-sm;
        
        .footer-content {
            grid-template-columns: 1fr;
            gap: $spacing-md;
            text-align: center;
            
            .footer-section {
                h4 {
                    font-size: 1rem;
                }
                
                p, li {
                    font-size: 0.9rem;
                }
            }
        }
    }
    
    // 通用移动端样式调整
    .container {
        padding: 0 $spacing-xs;
    }
    
    // 表格移动端响应式
    .table-responsive {
        overflow-x: auto;
        
        table {
            min-width: 600px;
        }
    }
    
    // 表单移动端样式
    .form-group {
        margin-bottom: $spacing-sm;
        
        label {
            font-size: 0.9rem;
        }
        
        input, textarea, select {
            padding: $spacing-xs;
            font-size: 1rem;
        }
    }
    
    // 按钮移动端样式
    .btn {
        padding: $spacing-sm $spacing-md;
        font-size: 0.9rem;
        min-height: 44px; // 移动端触摸目标最小尺寸
    }
}

// 平板端样式（768px - 1024px）
@include respond-to($tablet) {
    .hero {
        .hero-content {
            .hero-title {
                font-size: 3rem;
            }
            
            .hero-subtitle {
                font-size: 1.1rem;
            }
        }
    }
    
    .about-section {
        .about-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: $spacing-lg;
        }
    }
    
    .brewing-section {
        .brewing-methods {
            grid-template-columns: repeat(2, 1fr);
            gap: $spacing-lg;
        }
    }
    
    .beans-section {
        .beans-showcase {
            grid-template-columns: repeat(2, 1fr);
        }
    }
    
    .culture-section {
        .culture-timeline {
            &::before {
                left: 30%;
            }
            
            .timeline-item {
                width: 70%;
                left: 30%;
                
                &:nth-child(even) {
                    left: 0;
                    text-align: left;
                    padding-right: $spacing-lg;
                    padding-left: 0;
                }
                
                &:nth-child(odd) {
                    text-align: right;
                    padding-left: $spacing-lg;
                    padding-right: 0;
                }
            }
        }
    }
    
    .main-footer {
        .footer-content {
            grid-template-columns: repeat(2, 1fr);
        }
    }
}

// 桌面端样式（> 1024px）
@include respond-to($desktop) {
    .hero {
        .hero-content {
            .hero-title {
                font-size: 4rem;
            }
            
            .hero-subtitle {
                font-size: 1.3rem;
            }
        }
    }
    
    .about-section {
        .about-grid {
            grid-template-columns: repeat(3, 1fr);
        }
    }
    
    .beans-section {
        .beans-showcase {
            grid-template-columns: repeat(3, 1fr);
        }
    }
    
    .main-footer {
        .footer-content {
            grid-template-columns: repeat(3, 1fr);
        }
    }
}

// 打印样式优化
@media print {
    .main-header,
    .mobile-menu-toggle,
    .main-footer,
    .hero,
    .no-print {
        display: none !important;
    }
    
    body {
        font-size: 12pt;
        line-height: 1.4;
        color: black;
        background: white;
    }
    
    .container {
        max-width: none;
        padding: 0;
    }
    
    .section-title {
        page-break-after: avoid;
        color: black;
    }
    
    .about-card,
    .brewing-method,
    .bean-card {
        border: 1px solid #ccc;
        box-shadow: none;
        break-inside: avoid;
    }
    
    a {
        text-decoration: underline;
        color: black;
        
        &[href^="http"]:after {
            content: " (" attr(href) ")";
            font-size: 80%;
        }
    }
    
    .timeline-item {
        break-inside: avoid;
    }
}

// 高分辨率屏幕优化
@include retina-display {
    .hero {
        .hero-content {
            .hero-title {
                @include text-shadow(3px 3px 6px rgba(0,0,0,0.4));
            }
        }
    }
    
    .card-icon {
        filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.2));
    }
}

// 横屏模式优化
@media (orientation: landscape) and (max-height: 500px) {
    .hero {
        min-height: 100vh;
        padding-top: 60px;
        
        .hero-content {
            padding: $spacing-md;
            
            .hero-title {
                font-size: 2rem;
                margin-bottom: $spacing-xs;
            }
            
            .hero-subtitle {
                font-size: 0.9rem;
                margin-bottom: $spacing-sm;
            }
            
            .cta-button {
                padding: $spacing-xs $spacing-sm;
                font-size: 0.9rem;
            }
        }
    }
    
    .main-header {
        position: fixed;
    }
}

// 极小屏幕优化（< 480px）
@media (max-width: 479px) {
    .hero {
        .hero-content {
            .hero-title {
                font-size: 1.8rem;
            }
            
            .hero-subtitle {
                font-size: 0.9rem;
            }
        }
    }
    
    .section-title {
        font-size: 1.5rem;
    }
    
    .about-section,
    .brewing-section,
    .beans-section,
    .culture-section {
        padding: $spacing-lg 0;
    }
    
    .main-footer {
        .footer-content {
            gap: $spacing-sm;
        }
    }
}

// 大屏幕优化（> 1400px）
@media (min-width: 1400px) {
    .container {
        max-width: 1400px;
    }
    
    .hero {
        .hero-content {
            .hero-title {
                font-size: 5rem;
            }
            
            .hero-subtitle {
                font-size: 1.4rem;
            }
        }
    }
    
    .about-section,
    .brewing-section,
    .beans-section,
    .culture-section {
        padding: $spacing-xl * 3 0;
    }
    
    .beans-showcase {
        grid-template-columns: repeat(4, 1fr);
    }
    
    .brewing-methods {
        grid-template-columns: repeat(4, 1fr);
    }
}

// 触摸设备优化
@media (hover: none) and (pointer: coarse) {
    .brewing-method,
    .about-card,
    .bean-card {
        &:hover {
            transform: none;
            box-shadow: $shadow-light;
        }
        
        &:active {
            transform: scale(0.98);
        }
    }
    
    .nav-link {
        min-height: 44px;
        @include flex-center;
    }
    
    .cta-button {
        min-height: 48px;
        @include flex-center;
    }
}

// 减少动画偏好
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    .hero-content {
        .hero-title,
        .hero-subtitle,
        .cta-button {
            animation: none !important;
        }
    }
    
    .about-card,
    .brewing-method,
    .bean-card {
        &:hover {
            transform: none !important;
        }
    }
}

// 高对比度模式优化
@media (prefers-contrast: high) {
    .main-header {
        border-bottom: 2px solid currentColor;
    }
    
    .about-card,
    .brewing-method,
    .bean-card {
        border: 2px solid currentColor;
    }
    
    .timeline-item {
        .timeline-date {
            border: 2px solid currentColor;
        }
    }
}